import { ExtensionWebExports } from "@moonlight-mod/types";

// it is honestly quite funny how easily discord could implement this into the official client, it is quite literally just modifying a single line of code
// genuinely, all this does is replace grabbing the regular output volume setting with a custom config option, thats it
// why havent they done this yet?

/*                   @@@@@@@@@@@@@@@@@                         @@@@  @@@@              @@@@
 *                 @@#+=============+#@@                       @@@@  @@@@              @@@@
 *               @@#*=:.-===:.:===-:.-*#@@                     @@@@@@@@@@@@@@@         @@@@     @@@@@@@@              @@@@@@@@
 *               @@*:.:=*%@@*-=#%@%+:..+@@@                    @@@@@@@@@@@@@@@         @@@@   @@@@@@@@@@              @@@@@@@@@@
 *             @@@%+.-##-:*@@@*:-#@@%=.=%@@@                   @@@@  @@@@              @@@@   @@@@@@@                  @@@@@@@@@@
 *            @@@+.  -##-:*@@@*:-#@@%=   =%@@                  @@@@  @@@@              @@@@     @@@@@@                @@@@@@@@@@@
 *    @@@@    @@@+.  .:=*%@@*-=#%@%=:.   =%@@  @@@@            @@@@  @@@@              @@@@     @@@@@@@@            @@@@@@@@@@@@@
 * @@@*=*@@@@@@@@+.    .:---:.:----.     =%@@@@@*-*@@@         @@@@   @@@@@@@@         @@@@   @@@@@@@@@@            @@@@@@@@@@@@@
 * @@*+-.:=+++++++-.      .-+++-.         =%%*++=: -+*@@@       @@@@     @@@@@@         @@@@   @@@@@@@@                @@@@@@@@@@
 * @@+=:.:-====-:         :*@@@*:      .:=*@%+==-: :=+@@@
 * @@@*-+%@@@@%+:..      .+%%%+.      .+@@@@@@@%+:*@@@
 *    @@@@    @@@+.                 ..:+@@@    @@@@
 *     @@     @@@+.                 .+%@@@      @@
 *             @@%#=.               :*@@
 *               @@*:             :=*#@@
 *               @@#+-.         :-+#@@                                                              @@@@
 *                 @@#-         -#@@                                                                @@@@
 *                 @@#-         -#@@               @@@@@@@@   @@@@@@       @@    @@@      @@@@@@@  @@@@@@@@@    @@@@@@@       @@  @@  @@     @@
 *                 @@#-         -#@@              @@@@@@@@@@ @@@@@@@@     @@@@  @@@@     @@@@@@@@@@@@@@@@@@@@  @@@@@@@@@     @@@@@@@@@@@@   @@@
 *                 @@#-       -#%@@               @@@@@@@@@@@@@@@@@@@@@   @@@@  @@@@   @@@@@@@@@@  @@@@@@@@@ @@@@@@@@@@@@@   @@@@@@@ @@@@   @@@
 *                 @@#-    .=*#@@@                @@@@    @@@@     @@@@   @@@@  @@@@   @@@@@@@@     @@@@     @@@@@@@@@@@@@   @@@@@   @@@@   @@@
 *                 @@#-  .-+#@@                   @@@@    @@@@     @@@@   @@@@@@@@@@     @@@@@@@@@  @@@@     @@@@@@@@@@@@@   @@@@    @@@@@@@@@@
 *               @@#*=:.-=*@@                     @@@@    @@@@     @@@@     @@@@@@     @@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@   @@@@       @@@@@@
 *             @@@@*-::=#@@                       @@@@    @@@@     @@@@      @@@@@     @@@@@@@@        @@@@@@  @@@@@@@@@@@   @@@@       @@@@@@
 *            @@@@@@@@@@@                                                   @@@@                                                        @@@@
 */

export const patches: ExtensionWebExports["patches"] = [
  {
    find: "_ensureAudio(){",
    replace: {
      match: /\i\.\i\.getOutputVolume\(\)/,
      replacement: 'moonlight.getConfigOption("notificationVolume","volume")'
    }
  }
];
